---
layout: default
---

<div class="w-100 cf">
  <div class="fl w-100 w-50-ns" id="audio-player">
    <div id="single-song-player">
      <img data-amplitude-song-info="cover_art_url" />
      <div class="bottom-container">
        <progress
          class="amplitude-song-played-progress"
          id="song-played-progress"
        ></progress>

        <div class="time-container">
          <span class="current-time">
            <span class="amplitude-current-minutes"></span>:<span
              class="amplitude-current-seconds"
            ></span>
          </span>
          <span class="duration">
            <span class="amplitude-duration-minutes"></span>:<span
              class="amplitude-duration-seconds"
            ></span>
          </span>
        </div>

        <div class="control-container">
          <div class="amplitude-play-pause" id="play-pause"></div>
          <div class="meta-container">
            <span data-amplitude-song-info="name" class="song-name"></span>
            <span data-amplitude-song-info="artist"></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="fl w-100 w-50-ns ph3">
    {% if media.tracklist %}
    <h3 class="f3 mv0">Tracklist</h3>
    <ol>
      {% for tracklist in media.tracklist %}
      <li class="gray f4 pb3">{{tracklist}}</li>
      {% endfor %}
    </ol>
    {% endif %}
  </div>
</div>

<div class="pv2 f4 lh-copy">
  {{content}}
</div>

<script>
  const mediaTitle = '{{media.title}}';
  const mediaAuthor = '{{media.author}}';
  const mediaImage = '{{media.image}}';
  const options = {
    songs: [
      {
        name: mediaTitle || '{{title}}',
        artist: mediaAuthor || 'DJ Cruze',
        url: 'http://media.djcruze.co.uk/{{media.content}}',
        cover_art_url: mediaImage || '/images/mixes/default-logo-600x600.jpg',
      },
    ],
  };
  Amplitude.init(options);

  // Handle a click on the song played progress bar.
  document
    .getElementById('song-played-progress')
    .addEventListener('click', function (event) {
      const offset = this.getBoundingClientRect();
      const x = event.pageX - offset.left;

      Amplitude.setSongPlayedPercentage(
        (parseFloat(x) / parseFloat(this.offsetWidth)) * 100
      );
    });
</script>
