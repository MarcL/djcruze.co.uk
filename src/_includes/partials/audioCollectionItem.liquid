{%- assign imageUrl = "/images/mixes/dj-cruze-mix-logo-600x600.jpg" -%}
{%- if item.data.media.image -%}
    {%- assign imageUrl = item.data.media.image -%}
{%- endif -%}

<div class="w-full h-full">
  <a href="{{item.url}}" class="group flex flex-col h-full {{theme.audioCard.background}} {{theme.audioCard.border}} {{theme.audioCard.shadow}} {{theme.audioCard.shadowHover}} rounded-xl overflow-hidden transition-all duration-300 hover:-translate-y-1">
    <div class="aspect-square overflow-hidden">
      {% image imageUrl "w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" item.data.title "(min-width: 1024px) 33vw, (min-width: 768px) 50vw, 100vw" %}
    </div>

    <div class="flex flex-col flex-1 p-5">
      <h3 class="{{theme.audioCard.title}} {{theme.audioCard.titleHover}} font-bold text-2xl leading-snug transition-colors duration-200">
        {{item.data.title}}
      </h3>

      {%- if item.data.subtitle -%}
        <p class="{{theme.audioCard.subtitle}} text-lg font-medium mt-1">{{item.data.subtitle}}</p>
      {%- endif -%}

      {%- if item.data.showDate or item.data.media.length or item.data.media.tracklist -%}
        <div class="flex flex-wrap items-center gap-x-4 gap-y-1 mt-3 text-base font-medium {{theme.audioCard.metadata}}">
          {%- if item.data.showDate -%}
            <span class="flex items-center gap-1.5">
              <svg class="w-4 h-4 {{theme.audioCard.metadataIcon}}" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              {{ item.date | pageDate }}
            </span>
          {%- endif -%}

          {%- if item.data.media.length -%}
            <span class="flex items-center gap-1.5">
              <svg class="w-4 h-4 {{theme.audioCard.metadataIcon}}" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              {{ item.data.media.length }}
            </span>
          {%- endif -%}

          {%- if item.data.media.tracklist -%}
            <span class="flex items-center gap-1.5">
              <svg class="w-4 h-4 {{theme.audioCard.metadataIcon}}" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" />
              </svg>
              {{ item.data.media.tracklist.size }} tracks
            </span>
          {%- endif -%}
        </div>
      {%- endif -%}

      {%- if item.data.excerpt -%}
        <p class="{{theme.audioCard.excerpt}} text-base font-medium mt-3 line-clamp-2 leading-relaxed">
          {{item.data.excerpt}}
        </p>
      {%- endif -%}
    </div>
  </a>
</div>
