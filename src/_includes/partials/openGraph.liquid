{% assign pageDescription = site.description %}
{%if description %}
{% assign pageDescription = description %}
{% endif %}
{%if excerpt %}
{% assign pageDescription = excerpt %}
{% endif %}

{% assign imageUrl = site.headerImage %}
{% if headerImage %}
{% assign imageUrl = headerImage %}
{% endif %}
{% if socialImage %}
{% assign imageUrl = socialImage %}
{% endif %}

{% assign pageDate = date | date: "%Y-%m-%d" %}

<!-- Open Graph -->
<meta property="og:site_name" content="{{ site.title }}" />
<meta property="og:url" content="{{ page.url | replace:'index.html','' | prepend: site.url }}" />
<meta property="og:title" content="{{ title }}" />
<meta property="og:description" content="{{ pageDescription }}" />

<meta property="og:image" content="{{ site.url }}{{ imageUrl }}" />
<meta property="og:type" content="article" />
<meta property="og:locale" content="en_GB" />
<meta property="article:published_time" content="{{ page.date | toISOString }}" />
<meta property="article:author" content="{{site.author}}" />

<!-- Schema.org markup for Google+ -->
<meta itemprop="name" content="{{ title }}">
<meta itemprop="description" content="{{ pageDescription }}">
<meta itemprop="image" content="{{ site.url }}{{ imageUrl }}">

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@{{site.twitterUsername}}">
<meta name="twitter:title" content="{{ title }}">
<meta name="twitter:description" content="{{ pageDescription }}">
<meta name="twitter:creator" content="@{{site.twitterUsername}}">
<!-- Twitter summary card with large image must be at least 280x150px -->
<meta name="twitter:image:src" content="{{ site.url }}{{ imageUrl }}">
